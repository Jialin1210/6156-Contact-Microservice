<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" 
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
      <title>Contacts</title>
</head>
<body>
    <form action="{{ url_for("add_contact")}}" method="post">
    <form action="{{ url_for("get_contact_by_userid", userid=userid)}}" method="put">

        <div class="form-group">
            <label for="first_name">First Name:</label>
            <input type="text" id="first_name" name="first_name" class="form-control">

            <label for="last_name">Last Name:</label>
            <input type="text" id="last_name" name="last_name" class="form-control">

            <label for="address">Address:</label>
            <!-- <input type="text" id="address" name="address" class="form-control"> -->
            <input type="text" id="address" name="address" oninput="addressAutocomplete()" class="form-control">
    
              <script>
                function addressAutocomplete() {
                  // addr = document.querySelector("address")
                  var addr = document.getElementById('address').value;
                
                  // smarty
                  // const params = new URLSearchParams();
                  // params.append("auth-id",'4070fba4-036c-0f2d-aa09-b9ba9cceb8eb');
                  // params.append('auth-token', 'XdzuVVnBsOovBpJSZej8');
                  // params.append('key','146285194509558924');
                  // params.append('search',addr)
                  // const url = `https://us-autocomplete-pro.api.smartystreets.com/lookup?${params.toString()}`;
                  
                  // google api
                  const api_key = ""; //replace with api key
                  const url = "https://maps.googleapis.com/maps/api/place/autocomplete/json?input=" + addr + "&types=geocode&key=" + api_key
                  // payload = {}
                  // headers = {}
                  // response = requests.request("GET", url, headers=headers, data=payload)
                  // print(response.text)
                  let headers = new Headers();
                  headers.append('Access-Control-Allow-Origin', 'http://localhost:5000');

                  fetch(url, {
                    headers: headers
                  })
                    .then((response) => response.json())
                    .then((data) => {
                        let arr = data.predictions;
                        arr.forEach(elem => {console.log(elem.description)})});
                }
                window.addressAutocomplete = addressAutocomplete;
              </script>

            <label for="phone">Phone Number:</label>
            <input type="text" id="phone" name="phone" class="form-control">

            <label for="email">Email:</label>
            <input type="text" id="email" name="email" class="form-control">

            <button type="submit" class="btn btn-primary">submit</button>
        </div>
    </form>
</body>
</html>